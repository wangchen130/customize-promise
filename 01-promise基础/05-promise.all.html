<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>05-promise.all</title>
</head>
<body>
<script type="text/javascript">
 // Promise.all() 方法用于将多个promise实例，包装成一个新的promise对象实例。
 // const p = Promise.all([p1,p2,p3])
 // p的状态由p1,p2, p3 决定，分成两种情况。
 // （1）只有p1、 p2、p3 的状态都变成 fu1filled，p的状态才会变成fulfilled，此时 p1、p2、p3的返回值组成一个数组，传递给p的回调函数。
 // （2）只要01.p2.03之中有一个被rejected, p的状态就变成 rejected，此时第一个被reject的实例的返回值，会传递给p的回调函数。
 let p1 = new Promise((resolve, reject) => {
   if (Math.random() > 0.5) {
     resolve('p1---resolve')
   } else {
     reject('p1---reject')
   }
 })
 let p2= new Promise((resolve, reject) => {
   if (Math.random() > 0.5) {
     resolve('p2---resolve')
   } else {
     reject('p2---reject')
   }
 })
 let p3 = new Promise((resolve, reject) => {
   if (Math.random() > 0.5) {
     resolve('p3---resolve')
   } else {
     reject('p3---reject')
   }
 })

 Promise.all([p1,p2,p3]).then(res => {
   console.log('Promise.all====res:', res);
 }).catch(err => {
   console.log('Promise.all===catch===err:', err);
 })


</script>
</body>
</html>
