<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>06-promise.race</title>
</head>
<body>
<script type="text/javascript">
  // promise.race()方法同样是将名个 promise 实例 句装成一个新的 promise 实例
  // const p = promise. race(rp1, p2. p3)
  // 只要p1，p2，p3之中有一个实例率先改恋状，p的状态就跟着改变，那个率先改变的 promise 实例的返同值， 就传涕给p的回调函数
  let p1 = new Promise((resolve, reject) => {
    setTimeout(() => {
      if (Math.random() > 0.5) {
        resolve('p1---resolve')
      } else {
        reject('p1---reject')
      }
    },1 * 1000)
  })
  let p2= new Promise((resolve, reject) => {
    setTimeout(() => {
      if (Math.random() > 0.5) {
        resolve('p2---resolve')
      } else {
        reject('p2---reject')
      }
    }, 2 * 1000)
  })
  let p3 = new Promise((resolve, reject) => {
    setTimeout(() => {
      if (Math.random() > 0.5) {
        resolve('p3---resolve')
      } else {
        reject('p3---reject')
      }
    },3 * 1000)
  })

  Promise.race([p1,p2,p3]).then(res => {
    console.log('Promise.race====res:', res);
  }).catch(err => {
    console.log('Promise.race===catch===err:', err);
  })

</script>
</body>
</html>
